<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Search for orders</title>
    <link href="./styles.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
</head>

<body>
    <script src="./onload.js" defer></script>
    <script src="./map.js"></script>
    <button class="btn btn-primary filter-button" type="button" onclick="showFilters()"><i
            class="bi bi-funnel"></i></button>
    <div class="position-fixed top-50 start-50 transform-middle d-none" id="spinner">
        <div class="spinner-border text-primary" role="status">
        </div>
    </div>
    <div class="container-sm border rounded text-center mt-2" id="resultsContainer">
        <!--body contents-->
        <div class="card mt-2 mb-2">
            <div class="card-body row">
                <div class="col-sm">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <a href="https://www.google.com/maps?q=36.026391,-81.933475&ll=36.026391,-81.933475&z=10"
                                class="btn btn-secondary btn-sm" target="_blank"><i class="bi bi-geo-alt"></i></a>
                            <span>Pickup:</span>
                            <span>NC, Newland, 28657</span>
                        </li>
                        <li class="list-group-item">
                            <a href="https://www.google.com/maps?q=38.54388,-122.810608&ll=38.54388,-122.810608&z=10"
                                class="btn btn-secondary btn-sm" target="_blank"><i class="bi bi-geo-alt"></i></a>
                            <span>Delivery:</span>
                            <span>CA, Windsor, 95492</span>
                        </li>
                        <li class="list-group-item">
                            <a href="https://www.google.com/maps/dir/?api=1&travelmode=driving&origin=Newland,%20NC,%2028657&destination=Windsor,%20CA,%2095492"
                                class="btn btn-primary btn-sm" target="_blank">View route</a>
                        </li>
                        <li class="list-group-item">Additional info: https://shipez.us/nvSPK</li>
                    </ul>
                </div>
                <div class="col-sm">
                    <ul class="list-group">
                        <li class="list-group-item">Total: $6000</li>
                        <li class="list-group-item">Per mile: $2.23</li>
                        <li class="list-group-item">Miles: 2689mi</li>
                        <li class="list-group-item">
                            <button type="button" class="btn btn-secondary" data-bs-toggle="modal"
                                data-bs-target="#exampleModal">
                                <i class="bi bi-info-circle"></i>
                            </button>
                            Vehicles: 1
                        </li>
                        <li class="list-group-item">Trailer type: Open</li>
                    </ul>
                </div>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="exampleModalLabel">Vehicle info</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <ul class="list-group">
                                    <li class="list-group-item">2005 Full_load Flat_bed</li>
                                    <li class="list-group-item">Dimensions: Unspecified</li>
                                    <li class="list-group-item">Weight: Unspecified</li>
                                </ul>
                                <iframe width="100%"
                                    src="https://www.google.com/maps/embed/v1/directions?key=AIzaSyCKsYTgi8DCDNpplXRcWfp5tLI4GBcHaRg&origin=Oslo+Norway&destination=Telemark+Norway&mode=driving"
                                    width="600" height="450" style="border:0" loading="lazy" allowfullscreen></iframe>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm">
                    <ul class="list-group">
                        <li class="list-group-item">Freedom Auto Transport LLC</li>
                        <li class="list-group-item">Rating 95%</li>
                        <li class="list-group-item"><a href="tel:954-320-0330">954-320-0330</a></li>
                        <li class="list-group-item"><a href="mailto:test@test.com">test@test.com</a></li>
                        <li class="list-group-item">Mon-Sun 8am-8pm EST</li>
                    </ul>
                </div>
                <div class="col-sm p-1">
                    <ul class="list-group">
                        <li class="list-group-item">Posted at: 03/08/23</li>
                        <li class="list-group-item">Ship at: ASAP</li>
                        <li class="list-group-item">Desired: Unspecified</li>
                        <li class="list-group-item">Expire: Unspecified</li>
                        <li class="list-group-item">Order ID: 23-5544</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="searchFilters"
        aria-labelledby="offcanvasWithBothOptionsLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Search filters</h5>
            <button type="button" class="btn btn-primary" onclick="sendPayload()">Apply</button>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="input-group mb-1">
                <div class="form-floating">
                    <input type="text" class="form-control" id="locationInput" placeholder="Location">
                    <label for="locationInput">Location</label>
                </div>
                <button class="btn btn-outline-secondary" type="button" id="addLocationButton">Add</button>
            </div>
            <div id="milesRangeSearch" class="d-none">
                <label for="searchRange" class="form-label">Search radius: <span id="searchRangeText">25mi</span></label>
                <input type="range" class="form-range" id="searchRange" min="0" max="300" step="1" value="25">
            </div>
            <div class="dropdown">
                <a class="form-text" href="#" data-bs-toggle="dropdown" aria-expanded="false">
                    Add a region
                </a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#" onclick="createRegion(this)" data-bs-toggle="tooltip"
                            data-bs-title="IA, IL, IN, KS, MI, MN, MO, ND, NE, OH, SD, WI" id="miwe">Midwest Plains</a>
                    </li>
                    <li><a class="dropdown-item" href="#" onclick="createRegion(this)" data-bs-toggle="tooltip"
                            data-bs-title="CT, DE, MA, ME, NH, NJ, NY, PA, RI, VT" id="noea">Northeast</a></li>
                    <li><a class="dropdown-item" href="#" onclick="createRegion(this)" data-bs-toggle="tooltip"
                            data-bs-title="ID, MT, OR, WA, WY" id="nowe">Northwest</a></li>
                    <li><a class="dropdown-item" href="#" onclick="createRegion(this)" data-bs-toggle="tooltip"
                            data-bs-title="AR, LA, MS, OK, TX" id="sout">South</a></li>
                    <li><a class="dropdown-item" href="#" onclick="createRegion(this)" data-bs-toggle="tooltip"
                            data-bs-title="AL, DC, FL, GA, KY, MD, NC, SC, TN, VA, WV" id="soea">Southeast</a></li>
                    <li><a class="dropdown-item" href="#" onclick="createRegion(this)" data-bs-toggle="tooltip"
                            data-bs-title="AZ, CA, CO, NM, NV, UT" id="sowe">Southwest</a></li>
                </ul>
            </div>
            <hr>
            <div id="locations">

            </div>
            <hr>
            <label for="postRange" class="form-label">Posted within <span id="postRangeText">all time</span></label>
            <input type="range" class="form-range" id="postRange" min="0" max="24" step="1" value="0">
            <hr>
            <div class="accordion" id="accordionPanelsStayOpenExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#vehicleTypesDropdown" aria-expanded="false"
                            aria-controls="vehicleTypesDropdown">
                            Vehicle types
                        </button>
                    </h2>
                    <div id="vehicleTypesDropdown" class="accordion-collapse collapse"
                        aria-labelledby="panelsStayOpen-headingOne">
                        <div class="accordion-body text-start">
                            <div class="row row-cols-2">
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="atvCheck" value="ATV">
                                    <label class="form-check-label" for="atvCheck">ATV</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="boatCheck" value="Boat">
                                    <label class="form-check-label" for="boatCheck">Boat</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="carCheck" value="Car">
                                    <label class="form-check-label" for="carCheck">Car</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="heavyCheck"
                                        value="Heavy_Equipment">
                                    <label class="form-check-label" for="heavyCheck">Heavy
                                        equipment</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="yachtCheck" value="Large_Yacht">
                                    <label class="form-check-label" for="yachtCheck">Large yacht</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="motorcycleCheck"
                                        value="Motorcycle">
                                    <label class="form-check-label" for="motorcycleCheck">Motorcycle</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="pickupCheck" value="Pickup">
                                    <label class="form-check-label" for="pickupCheck">Pickup</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="rvCheck" value="RV">
                                    <label class="form-check-label" for="rvCheck">RV</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="suvCheck" value="SUV">
                                    <label class="form-check-label" for="suvCheck">SUV</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="trailerCheck"
                                        value="Travel_Trailer">
                                    <label class="form-check-label" for="trailerCheck">Travel trailer</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="vanCheck" value="Van">
                                    <label class="form-check-label" for="vanCheck">Van</label>
                                </div>
                                <div class="col">
                                    <input class="form-check-input" type="checkbox" id="otherCheck" value="Other">
                                    <label class="form-check-label" for="otherCheck">Other</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <label for="trailerType" class="form-label">Trailer type</label>
            <select class="form-select" aria-label="Trailer type dropdown" id="trailerType">
                <option selected value="all">All</option>
                <option value="OPEN">Open</option>
                <option value="ENCLOSED">Enclosed</option>
                <option value="DRIVEAWAY">Driveaway</option>
            </select>
            <hr>
            <label for="vehicleStatus" class="form-label">Vehicle status</label>
            <select class="form-select" aria-label="Vehicle status dropdown" id="vehicleStatus">
                <option selected value="all">All</option>
                <option value="operableonly">Operable</option>
                <option value="hasinoperable">Inoperable</option>
            </select>
            <hr>
            <div class="mb-3">
                <label for="basic-url" class="form-label">Number of vehicles</label>
                <div class="input-group">
                    <div class="form-floating">
                    <input type="number" inputmode="numeric" min="1" max="10" class="form-control" placeholder="Min"
                        aria-label="Min number of vehicles" id="minVehicles">
                        <label for="minVehicles">Min vehicles</label>
                    </div>
                    <div class="form-floating">
                    <input type="number" inputmode="numeric" min="1" max="10" class="form-control" placeholder="Max"
                        aria-label="Max number of vehicles" id="maxVehicles">
                        <label for="maxVehicles">Max vehicles</label>
                    </div>
                </div>
            </div>
            <hr>
            <label for="readyToShip" class="form-label">Ready to ship within <span id="readyToShipText">any
                    time</span></label>
            <input type="range" class="form-range" id="readyToShip" min="-1" max="60" step="1" value="-1">
            <hr>
            <label for="paymentType" class="form-label">Payment type</label>
            <select class="form-select" aria-label="Payment type dropdown" id="paymentType">
                <option selected value="all">All</option>
                <option value="COD_COP">COD/COP</option>
                <option value="COD_COP_QUICKPAY_COMCHEK">COD/COP/Quickpay/Comcheck</option>
            </select>
            <hr>
            <div class="mb-3">
                <label for="minTotal" class="form-label">Minimal total payment</label>
                <div class="input-group">
                    <span class="input-group-text">$</span>
                    <input type="number" inputmode="numeric" step="1" min="0" class="form-control text-center"
                        aria-label="Amount (to the nearest dollar)" id="minTotal">
                    <span class="input-group-text">.00</span>
                </div>
            </div>
            <hr>
            <div class="mb-3">
                <label for="minPpm" class="form-label">Minimal rate per vehicle per mile</label>
                <div class="input-group">
                    <span class="input-group-text">$</span>
                    <input type="number" inputmode="decimal" step="0.01" min="0" class="form-control text-center"
                        aria-label="Amount (to the nearest dollar)" id="minPpm">
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="tokenModal" tabindex="-1" aria-labelledby="tokenModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="tokenModalLabel">Please enter your token below</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="text" id="tokenInput" class="form-control" placeholder="Paste your token here">
                    <label for="tokenInput" class="form-label">Get token from bot with command /token</label>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="saveToken()" - data-bs-dismiss="modal">Save
                        changes</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="errorModalLabel">An error happened</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <label class="form-label">There was an error while processing your request. If the problem persists,
                        please contact administrator.</label>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="emptyResultsModal" tabindex="-1" aria-labelledby="emptyResultsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="emptyResultsModalLabel">No results</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <label class="form-label">Your search did not yield any results. Try changing or removing some
                        filters.</label>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKsYTgi8DCDNpplXRcWfp5tLI4GBcHaRg&region=US&language=en&callback=initMap&libraries=places&v=weekly"
        defer></script>
</body>

</html>